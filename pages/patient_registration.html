<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HPMS - Patient Registration Form</title>
    <link rel="stylesheet" href="../css/style.css">
    <style>
        /* Additional or existing CSS styles specific to your application */
    </style>
</head>
<body>
    <header>
        <div class="logo">HPMS</div>
        <nav class="nav-link">
            <a href="../index.html">Home</a>
            <a href="patient_registration.html">Patient Registration</a>
            <a href="clinical_visit.html">Clinical Visit</a>
            <a href="art_prescription.html">ART Prescription</a>
            <a href="contact_tracing.html">Contact Tracing</a>
            <a href="edu_outreach.html">Education Outreach</a>
            <a style="float: left;" href="patient_registration.html">Register New Patient</a>

        </nav>
    </header>

    <main>
        <section class="section-container">
            <div>
                <nav class="side-nav">
                    <ul>
                        <li><a href="../index.html">Home</a></li>
                        <li><a href="patient_registration.html">Patient Registration</a></li>
                        <li><a href="clinical_visit.html">Clinical Visit</a></li>
                        <li><a href="art_prescription.html">ART Prescription</a></li>
                        <li><a href="contact_tracing.html">Contact Tracing</a></li>
                        <li><a href="edu_outreach.html">Education/Outreach</a></li>
                    </ul>
                </nav>
            </div>

            <article class="form-container">
                <div class="table-container">
                    <h2>Patient Registration Form</h2>
                    <form action="clinical_visit.html" method="post" novalidate autocomplete="off" onsubmit="return validatepatientregistration();">
                        <div class="divstyle">
                            <table>
                                <thead>
                                    <tr>
                                        <th colspan="10">Personal Information</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td colspan="5">
                                            <label for="uniqueid">Patient Unique-Id:</label>
                                            <input type="text" name="uniqueid" id="uniqueid" required oninput="clearError('uniqueid', 'uniqueidErr'); validatepatientuniqueid() "> <br>
                                            <span id="uniqueidErr"></span>
                                        </td>
                                        <td colspan="5">
                                            <label for="dateEnrolled"> Date Enrolled:</label> 
                                            <input type="date" name="dateEnrolled" id="dateEnrolled" oninput="clearError('dateEnrolled', 'enrollDateErr')"> <br>
                                            <span id="enrollDateErr"></span>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="3">
                                            <label for="fullname">Full Name:</label> 
                                            <input type="text" id="fullname" name="fullname" required maxlength="255" oninput="clearError('fullname', 'fullnameErr'); validatepatientname()"> <br>
                                            <span id="fullnameErr"></span> 
                                        </td>
                                        <td colspan="4">
                                            <label for="dob">Date of Birth: </label>
                                            <input type="date" id="dob" name="dob" required oninput="clearError('dob', 'dobErr')"> <br>
                                            <span id="dobErr"></span>
                                        </td>
                                        <td colspan="3">
                                            <label for="gender">Gender:</label> 
                                            <select id="gender" name="gender" required onchange="clearError('gender', 'genderErr')">
                                                <option value="select one" selected>Select One</option>
                                                <option value="male">Male</option>
                                                <option value="female">Female</option>
                                                <option value="other">Other</option>
                                            </select>
                                            <br>
                                            <span id="genderErr"></span>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="3">
                                            <label for="marital-status"> Marital Status:</label> 
                                            <select id="marital-status" name="marital-status" required onchange="clearError('marital-status', 'maritalstErr')">
                                                <option value="select one" selected>Select One</option>
                                                <option value="Single">Single</option>
                                                <option value="Married">Married</option>
                                                <option value="Divorced">Divorced</option>
                                                <option value="other">Other</option>
                                            </select>
                                            <br>
                                            <span id="maritalstErr"></span>
                                        </td>
                                        <td colspan="4">
                                            <label for="address">Address:</label> 
                                            <input type="text" id="address" name="address" required oninput="clearError('address', 'addErr')"> <br>
                                            <span id="addErr"></span>
                                        </td>
                                        <td colspan="3">
                                            <label for="phone-no">Phone Number:</label> 
                                            <input type="tel" id="phone-no" name="phone-no" required oninput="clearError('phone-no', 'phoneNoErr')"> <br>
                                            <span id="phoneNoErr"></span>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="5">
                                            <label for="email">Email Address:</label> 
                                            <input type="email" id="email" name="mail" required oninput="clearError('email', 'emailAddErr')"> <br>
                                            <span id="emailAddErr"></span>
                                        </td>
                                        <td colspan="5">
                                            <label for="nationality">Nationality:</label> 
                                            <input type="text" id="nationality" name="nationality"> <br>
                                            <span id="nationalityErr"></span>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="5">
                                            <label for="resisdence">State of Resisdence:</label> 
                                            <input type="text" id="resisdence" name="resisdence"> <br>
                                            <span id="resisdenceErr"></span>
                                        </td>
                                        <td colspan="5">
                                            <label for="emergencyContact">Emergency Contact Information:</label> 
                                            <input type="text" id="emergencyContact" name="emergencyContact"> <br>
                                            <span id="emerContErr"></span>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="5">
                                            <label for="nok">Next of Kin(NOK):</label>
                                            <input type="text" id="nok" name="nok" required> <br>
                                            <span id="nokErr"></span>
                                        </td>
                                        <td colspan="5">
                                            <label for="nokPhone">Phone Number(NOK):</label> 
                                            <input type="tel" id="nokPhone" name="nokPhone" required> <br>
                                            <span id="nokPhoneErr"></span>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="3">
                                            <label for="motherUniueid"> Mother Unique-Id <i>(if infant):</i></label>
                                            <input type="text" id="motherUniueid" name="motherUniueid" required> <br>
                                            <span id="motherUniueidErr"></span>
                                        </td>
                                        <td colspan="4">
                                            <label> Care Entry Point:</label>
                                            <input type="checkbox" id="opd" name="care-entry" class="checkbox" required>
                                            <label for="opd">OPD</label>
                                            <input type="checkbox" id="in-patient" name="care-entry"  class="checkbox" required>
                                            <label for="in-patient">In-Patients</label>
                                            <input type="checkbox" id="hts" name="care-entry" class="checkbox" required>
                                            <label for="hts">HTS</label>
                                            <input type="checkbox" id="tb-dots" name="care-entry"  class="checkbox" required>
                                            <label for="tb-dots">TB DOTS</label>
                                            <input type="checkbox" id="sti-clinic" name="care-entry"  class="checkbox" required>
                                            <label for="sti-clinic">STI Clinic</label>
                                            <input type="checkbox" id="anc-pmtct" name="care-entry"  class="checkbox" required>
                                            <label for="anc-pmtct">ANC/PMTCT</label>
                                            <input type="checkbox" id="ict" name="care-entry" class="checkbox" required>
                                            <label for="ict">ICT</label>
                                            <input type="checkbox" id="ct" name="care-entry" class="checkbox" required>
                                            <label for="ct">CT</label>
                                        </td>
                                        <td colspan="3">
                                            <label for="art" style="margin-top: -0.1em;">on ART?</label> 
                                            <input type="radio" id="yes" name="art" value="yes" required oninput="clearError('art', 'artErr'), validatehivstatus()"> <label for="yes">Yes</label>
                                            <input type="radio" id="no" name="art" value="no" required oninput="clearError('art', 'artErr'), validatehivstatus()"> <label for="no">No</label>
                                            <br>
                                            <span id="artErr"></span>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>

                            </div>

                            <div class="button-container">
                                <button type="submit"> Submit </button>
                                <button type="button" value="Save"><a href="patient_registration.html">Save & Next Patient</a></button>
                            </div>
                                
                    </form>
                </div>
            </article>
        </section>
    </main>

    <footer>
        <p>&copy; 2024 HPMS</p>
    </footer>

    <script>
        function validatepatientregistration() {
            var valid = true;

            // Validate uniqueid
            var uniqueid = document.getElementById("uniqueid").value;
            if (uniqueid.trim() === "") {
                document.getElementById("uniqueidErr").textContent = "Please enter Unique-Id";
                valid = false;
            } else {
                document.getElementById("uniqueidErr").textContent = "";
            }

            // Validate dateEnrolled
            var dateEnrolled = document.getElementById("dateEnrolled").value;
            if (dateEnrolled.trim() === "") {
                document.getElementById("enrollDateErr").textContent = "Please enter Date Enrolled";
                valid = false;
            } else {
                document.getElementById("enrollDateErr").textContent = "";
            }

            // Validate fullname
            var fullname = document.getElementById("fullname").value;
            if (fullname.trim() === "") {
                document.getElementById("fullnameErr").textContent = "Please enter Full Name";
                valid = false;
            } else {
                document.getElementById("fullnameErr").textContent = "";
            }

            // Validate dob
            var dob = document.getElementById("dob").value;
            if (dob.trim() === "") {
                document.getElementById("dobErr").textContent = "Please enter Date of Birth";
                valid = false;
            } else {
                document.getElementById("dobErr").textContent = "";
            }

            // Validate gender
            var gender = document.getElementById("gender").value;
            if (gender === "select one") {
                document.getElementById("genderErr").textContent = "Please select Gender";
                valid = false;
            } else {
                document.getElementById("genderErr").textContent = "";
            }

            // Validate marital-status
            var maritalStatus = document.getElementById("marital-status").value;
            if (maritalStatus === "select one") {
                document.getElementById("maritalstErr").textContent = "Please select Marital Status";
                valid = false;
            } else {
                document.getElementById("maritalstErr").textContent = "";
            }

            // Validate address
            var address = document.getElementById("address").value;
            if (address.trim() === "") {
                document.getElementById("addErr").textContent = "Please enter Address";
                valid = false;
            } else {
                document.getElementById("addErr").textContent = "";
            }

            // Validate phone-no
            var phoneNo = document.getElementById("phone-no").value;
            if (phoneNo.trim() === "") {
                document.getElementById("phoneNoErr").textContent = "Please enter Phone Number";
                valid = false;
            } else {
                document.getElementById("phoneNoErr").textContent = "";
            }

            // Validate email
            var email = document.getElementById("email").value;
            if (email.trim() === "") {
                document.getElementById("emailAddErr").textContent = "Please enter Email Address";
                valid = false;
            } else {
                document.getElementById("emailAddErr").textContent = "";
            }

            // Validate nationality
            var nationality = document.getElementById("nationality").value;
            if (nationality.trim() === "") {
                document.getElementById("nationalityErr").textContent = "Please enter Nationality";
                valid = false;
            } else {
                document.getElementById("nationalityErr").textContent = "";
            }

            // Validate resisdence
            var resisdence = document.getElementById("resisdence").value;
            if (resisdence.trim() === "") {
                document.getElementById("resisdenceErr").textContent = "Please enter resisdence";
                valid = false;
            } else {
                document.getElementById("resisdenceErr").textContent = "";
            }

             // Validate emergencyContact
             var emergencyContact = document.getElementById("emergencyContact").value;
            if (emergencyContact.trim() === "") {
                document.getElementById("emerContErr").textContent = "Please enter emergencyContact";
                valid = false;
            } else {
                document.getElementById("emerContErr").textContent = "";
            }

            // Validate nok
            var nok = document.getElementById("nok").value;
            if (nok.trim() === "") {
                document.getElementById("nokErr").textContent = "Please enter nok";
                valid = false;
            } else {
                document.getElementById("nokErr").textContent = "";
            }

            
            // Validate nokPhone
            var nokPhone = document.getElementById("nokPhone").value;
            if (nokPhone.trim() === "") {
                document.getElementById("nokPhoneErr").textContent = "Please enter nokPhone";
                valid = false;
            } else {
                document.getElementById("nokPhoneErr").textContent = "";
            }

            // Validate motherUniueid
            var motherUniueid = document.getElementById("motherUniueid").value;
            if (motherUniueid.trim() === "") {
                document.getElementById("motherUniueidErr").textContent = "Please enter motherUniueid";
                valid = false;
            } else {
                document.getElementById("motherUniueidErr").textContent = "";
            }

            // Validate art
            var artYes = document.getElementById("yes").checked;
            var artNo = document.getElementById("no").checked;
            if (!artYes && !artNo) {
                document.getElementById("artErr").textContent = "Please select ART status";
                valid = false;
            } else {
                document.getElementById("artErr").textContent = "";
            }

            return valid;
        }

        function clearError(inputId, errorId) {
            document.getElementById(errorId).textContent = "";
        }

        function validatepatientuniqueid() {
            const patientidpattern = /^[a-zA-Z0-9\s]*$/;
            const uniqueid = document.getElementById('uniqueid').value.trim();

            if (!uniqueid.match(patientidpattern)) {
                document.getElementById('uniqueidErr').innerHTML = 'Kindly enter a valid ID number';
                document.getElementById('uniqueid').focus();
                return false;
            } else {
                document.getElementById('uniqueidErr').innerHTML = '';
                return true;
            }
        }

        function validatepatientname() {
            const namepattern = /^[a-zA-Z\s]*$/;
            const fullname = document.getElementById('fullname').value.trim();

            if (!fullname.match(namepattern)) {
                document.getElementById('fullnameErr').innerHTML = 'Kindly enter a valid name pattern (letters and spaces only)';
                document.getElementById('fullname').focus();
                return false;
            } else {
                document.getElementById('fullnameErr').innerHTML = '';
                return true;
            }
        }

        function validatehivstatus() {
            // Add custom validation logic for HIV status if needed
        }
    </script>
</body>
</html>